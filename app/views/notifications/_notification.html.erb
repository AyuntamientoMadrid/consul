<% title = local_assigns.fetch(:title, false) %>
<% action = local_assigns.fetch(:action, false) %>
<% link = local_assigns.fetch(:link, false) %>
<% body = local_assigns.fetch(:body, false) %>
<% notification = local_assigns.fetch(:notification, nil) %>

<li id="<%= dom_id(notification) if notification %>" class="notification">
  <% if title %>
    <% if link %>
      <%= link_to link do %>
        <%= render partial: '/notifications/notification_body', locals: { notification: notification,
                                                                          timestamp: timestamp,
                                                                          title: title,
                                                                          body: body } %>
      <% end %>
    <% else %>
      <%= render partial: '/notifications/notification_body', locals: { notification: notification,
                                                                        timestamp: timestamp,
                                                                        title: title,
                                                                        body: body } %>
    <% end %>
  <% else %>
    <p>
      <strong>
        <%= t("notifications.index.notifiable_hidden") %>
      </strong>
    </p>
  <% end %>
</li>
